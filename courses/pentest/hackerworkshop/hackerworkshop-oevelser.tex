\documentclass[a4paper,11pt,notitlepage]{report}
% Henrik Lund Kramshøj, February 2001 
% hlk@security6.net,
% course for basic IPv6
% My standard packages 
\input{../template/stdpack.tex}

\begin{document}

\newcommand{\emne}[1]{computer forensics} 
\newcommand{\kursus}[1]{Computer Forensics workshop}
\newcommand{\kursusnavn}[1]{Computer Forensics workshop\\ øvelseshæfte}

\cfoot{\small Copyright \copyright\ 2003, Henrik
  Lund Kramshøj} 

\title{\kursusnavn}
\author{Henrik Lund Kramshøj \hskip 2cm Kjeld Schnoor-Abel \\
\href{mailto:hlk@securitypartner.dk}{hlk@securitypartner.dk}} 
%\hskip 1cm
%\href{mailto:ksa@securitypartner.dk}{ksa@securitypartner.dk}}
\date{\today}
\maketitle

\vskip 2 cm

\begin{center}
\colorbox{white}{\includegraphics[width=4cm]{images/mount-disc.pdf}}

\vskip 2 cm

\colorbox{white}{\includegraphics[width=5cm]{images/security6-logo-2.png}}  
%\colorbox{white}{\includegraphics[width=5cm]{sleuthkit.png}}  
%\colorbox{white}{\includegraphics[width=5cm]{securitypartner-logo.png}}  


%{\small SecurityPartner - Toldbodgade 18, 5 sal - DK-1253 København K.\\
%Telefon: +45 70 23 24 36 - Telefax: +45 70 23 24 38\\
%e-mail: post@securitypartner.dk - http://www.securitypartner.dk}

\vskip 3 cm

\begin{alltt}
\tiny 
\centerline{$Id: hackerworkshop-oevelser.tex,v 1.1 2004/08/17 11:57:04 hlk Exp $}
\end{alltt}
\end{center}

\thispagestyle{plain}
\eject

\pagenumbering{roman}
\setlength{\parskip}{0pt}

\setcounter{tocdepth}{0}

\normal

\tableofcontents
%\listoffigures - not used
%\listoftables - not used 

\normal
\pagestyle{fancy}
\chapter*{Forord}
\markboth{Forord}{}
Dette kursusmateriale er beregnet til brug på kurset
\emph{\kursus}. Materialet er lavet af Henrik Lund
Kramshøj, \link{http://www.security6.net}

Materialet skal opfattes som beskrivelse af netværkssetup og
applikationer til kurser og workshops med behov for praktiske
øvelser. 

Til workshoppen hører desuden en præsentation som udleveres og et
antal dokumenter som kan hjælpe under øvelserne.

God fornøjelse
%\eject

\section*{Oversigt}
\markright{Oversigt}
\setlength{\parskip}{10pt}

Materialet er inddelt i et antal områder som er beregnet til at give
valgfrihed i opsætningen af miljøet.

Formålet med kurserne at ofte at give kursusdeltagerne et indblik i
hvordan emnerne i praksis ser ud og opfører sig. De foreslåede
konfigurationer ligger derfor tæt op ad virkelige konfigurationer, men
kan samtidig passes ind i et eksisterende kursusnetværk.

% beskrivelse af øvelses materialet

Der er følgende øvelser som forventes at kunne udføres på det
beskrevne netværk:
\begin{itemize}
\item IP forbindelser og sniffere
\item Opsamling med FRED - udføres på Windows arbejdsplads
\item Windows værktøjer dll'er, porte og processer
\item SSH login - Putty og UNIX SSHD
\item TASK og autopsy installation og analyse af image filer
\item Forensics opsamling af diskimage - over netværk
\item Udpakning af partitioner fra diskimage
\item Design en forensics platform
\end{itemize}

\section*{Forudsætninger og ordliste}

Dette materiale forudsætter at deltageren har kendskab til
TCP/IP på brugerniveau. Det betyder at begreber som
\link{www.security6.net},
\href{mailto:hlk@security6.net}{hlk@security6.net}, IP-adresse og DHCP
ikke bør være helt ukendte.   

% ordliste ikke lavet til forensics!
%Dog er der i appendix \ref{app:ordliste} lavet en ordliste der kan
%hjælpe med til at huske de vigtigste begreber som benyttes i dette
%materiale og indenfor \emne{} generelt. 

\section*{Værktøjer}
%\markright{Værktøjer}

Netværket er udarbejdet ved hjælp af en masse værktøjer, og er
beregnet på at kunne udføres i et almindeligt kursuslokale med
netværksopkoblede pc'er.

De praktiske øvelser benytter i vid udstrækning Open Source og 
kan derfor afvikles på blandt andet følgende platforme:
\begin{itemize}
\item UNIX - herunder Linux, OpenBSD, NetBSD, FreeBSD og Mac OS X
\item Microsoft Windows 2000 og XP - primært som
  klientoperativsystem
\item Kravene til kursisternes arbejdspladser er generelt en browser
  og SSH adgang
\end{itemize}

Udover de programmer der gennemgås er der følgende programmer som kan
være til stor nytte:
De andre værktøjer der er refereret ovenfor kan findes på adresserne:
\begin{itemize}
%\item \link{http://www.ctan.org} - \LaTeX
\item \link{http://www.openbsd.org} - OpenBSD - en moderne UNIX med
  fokus på sikkerhed
\item \link{http://www.gnu.org} - GNU FREE software tools
\item
\href{http://www.cs.wisc.edu/~ghost}{http://www.cs.wisc.edu/\~{}ghost}
- Ghostscript som er et værktøj til at vise og udskrive PostScript
filer på almindelige pc'er. Mange dokumenter på Internet er stadig PostScript 
\item \link{http://www.inet6.dk/thesis} - diverse små shell programmer
  der kan være til hjælp når man skal læse mange RFC dokumenter der
  beskriver TCP/IP og Internet standarderne
\end{itemize}

% =================== body of the document ===============
% Arabic page numbers
\pagenumbering{arabic}
\rhead{\fancyplain{}{\bfseries Kapitel \thechapter}}

% Main chapters
%---------------------------------------------------------------------
% gennemgang af emnet
% check questions
% eventuelle åbne spørgsmål
% henvisning til øvelse, hvis der er en 

\chapter{Adressestruktur}

Der anvendes et privat adresserum som angivet i RFC-1918

\begin{itemize}
\item 10.0.42.0 - svarende til en C-klasse med ca. 250 brugbare adresser
\end{itemize}

Det angivne netværk forbindes til virksomhedens gennem en NAT gateway
som således maskerer at der er et netværk bagved.



\chapter*{Introduktion til computer forensics}
%\markboth{Introduktion til computer forensics}{}
\label{chap:intro}

\section*{F.I.R.E cd-rom}
På kurset henvises til F.I.R.E cd-rom der kan bruges hvis man ikke
selv har mod på at lave en værktøjskasse til computer forensics.
F.I.R.E er en forkortelse af free Forensics and Incident Response
Environment. 

Denne cd-rom kan frit hentes fra Internet på adressen:
\link{http://sourceforge.net/projects/biatchux} og mere information
kan fås på adressen: \link{http://biatchux.dmzs.com/}

FIRE indeholder en bootbar Linux del som kan bruges til at under søge
systemer uden at boote det operativsystem som er installeret på
harddisken - samt overføre diskimages over netværk.

Udover Linux delen indeholder FIRE en masse andre programmer, hvor de
mest kendte er:
\begin{itemize}
\item Autopsy og TASK - analayse af harddiske og imagefiler
\item FRED First Responder's Evidence Disk - laver en diskette med
  data
\item Nessus, Nmap, whisker hping2, hunt, fragrouter
\item Ethereal, Snort, tcpdump, ettercap, dsniff, airsnort
\item chkrootkit- check for tegn på rootkits
\item OpenSSH client og server
\end{itemize}

\section*{TCP/IP - Internet protokollerne}
De er vigtigt at have viden om IP for at kunne implementere \emne{} da
man ellers vil have svært ved at vælge mellem de mange muligheder for
implementation og bevissikring.

%\begin{figure}[H]
%\colorbox{white}{\includegraphics[width=10cm,angle=90]{images/compare-osi-ip.pdf}}
%\caption{Sammenligning af OSI og IP modellerne for netværk}
%\label{fig:OSI-IP}
%\end{figure}     

%\chapter{Øvelser}

\chapter*{Hardware og netværk til øvelserne}
%\markboth{Hardware og netværk til øvelserne}{}

I dette afsnit beskrives de krav der stilles til miljøet hvor de
beskrevne øvelser kan udføres.

Forudsætningerne for øvelserne er et lokale med et antal PC'er
med Microsoft Windows klienter og netværksadgang.

En del af øvelserne udføres med UNIX, specifikt med OpenBSD, dette
valg er udfra en betragtning om at det er meget stabilt og
understøtter de funktioner godt som beskrives i kurset.

OpenBSD er et moderne operativsystem som er frit tilgængeligt og fordi
det er Open Source tillader det at man kan undersøge og tilpasse
systemet.

Hvis der er mulighed for det kan man installere en anden UNIX variant,
ellers skal der som minimum være adgang til en 
maskine som flere brugere deler:
\begin{itemize}
\item Et flerbruger UNIX system som eksempelvis kan være OpenBSD
\item et udvalg af editorer - så folk føler sig hjemme, EMACS, VI,
  JOVE, ...
\item OpenSSH - mulighed for både login og filoverførsel på sikker vis. 
\item webserver med de filer der skal bruges 
\item hubs, switches, netkort - alt efter hvor komplekst et setup der
  vil arbejdes med
\end{itemize}

Et antal windows programmer stilles til rådighed via webserveren:
\begin{itemize}
\item putty - SSH adgang fra Windows
\item winscp - nem adgang til filoverførsel via SSH
\item ethereal - open source pakkesniffer  
\end{itemize}

Formålet med kurset er blandt andet at forstå hvordan man opsamler
beviser på en forsvarlig måde og der arbejdes derfor med scenarier for
opsamling.

Alle filer er tilgængelige både på den lokale server i kursuslokalet
og via Internet. På kurset gives anvisninger til adgangen.

%placeret i /userdata/public og kan hentes
%via webserveren som \link{http://www.security6.net/courses/programs/}
%eller på den lokale server som angivet på kurset.

\chapter*{Indholdet i øvelserne}
\markboth{Indholdet i øvelserne}{}

De fleste af øvelserne har følgende indhold:
\begin{itemize}
\item {\bfseries Opgave:} Hvad går øvelsen ud på
\item {\bfseries Formål:} Hvad forventes det at man lærer ved at løse opgaven
\item {\bfseries Forslag til fremgangsmåde:} er en hjælp til at komme igang
\item {\bfseries Hjælp:} er flere tips eller beskrivelser af hvordan
  man kan løse opgaven 
\item {\bfseries Forslag til løsning:} en mulig løsning til opgaven
\item {\bfseries Diskussion:} er oplæg til diskussion efter løsning af
  opgaven. Der er mulighed for at sammenligne og diskutere de valgte
  løsninger.
\end{itemize}

\chapter{IP forbindelser og sniffere}
\label{ex:ip-connect}

{\bfseries Opgave:}\\
Installer en Ethereal sniffer på din maskine!

Brug lidt tid på at lære den at kende.

{\bfseries Forslag til fremgangsmåde:}\\
Find Ethereal og installer denne - \link{http://www.ethereal.com}

{\bfseries Hjælp:}\\
Find ud af hvordan det er understøttet i dit favorit operativsystem
ved at bruge eksempelvis \link{http://www.google.com}

{\bfseries Forslag til løsning:}\\
Windows - hvis du er på Windows skal der
installeres WinPCAP - packet capture - biblioteket. Dette kan
eksempelvis hentes på adressen:
\href{http://www.security6.net/courses/programs/WinPcap_3_0_beta.exe}
{http://www.security6.net/courses/programs/WinPcap\_3\_0\_beta.exe}

UNIX - de fleste UNIX varianter har installationspakker til Ethereal
og TCPdump

Prøv efter installationen at kigge på den normale traffik på nettet,
eller generer selv traffik med ping og traceroute (windows: tracert)
programmer 
- når dette er gjort virker snifferen

{\bfseries Diskussion:}\\
Kender du forskel på TCP og UDP?

Hvad er SNMP?

Hvilke protokoller bruger kryptering?

\chapter{Opsamling med FRED}
\label{ex:FRED}

{\bfseries Opgave:}\\
Brug FRED til at indhente information fra den Windows arbejdsplads du
sidder ved.

{\bfseries Forslag til fremgangsmåde:}\\
Find en formateret diskette og sæt denne i drevet

Isæt FIRE cd-rom og find FRED

{\bfseries Hjælp:}\\
Der skal bruges en diskette og et MD5 program
 
{\bfseries Forslag til løsning:}\\
formater en diskette isæt denne i systemet

Isæt forensics cd-rom, start FRED

{\bfseries Diskussion:}\\
Kan denne diskette bruges til andre formål?

Hvad indeholder disketten?

Er der værdi selvom der ikke er en MD5 sum? - hvad kan man gøre for at
sikre beviserne aligevel?

\chapter{Windows værktøjer dll'er, porte og processer}
\label{ex:win-tools}

{\bfseries Opgave:}\\
Brug FIRE cd-rom til at undersøge den Windows arbejdsplads du
sidder ved.

Kan du identificere alle services der lytter på porte?
- er der nogen trojanske heste, er der nogle services som bør lukkes?

{\bfseries Forslag til fremgangsmåde:}\\

Isæt FIRE cd-rom og brug de tilgængelige værktøjer

{\bfseries Hjælp:}\\
Følgende kommandoer kan være nyttige:
\begin{alltt}
{\bfseries netstat -an} viser åbne porte og forbindelser på maskinen
{\bfseries fport} Foundstone port værktøj
{\bfseries listdlls} viser information om DLL'er
{\bfseries pslist} process lister
{\bfseries arp, netstat, nbtstat} - netværksinformation
\end{alltt}

{\bfseries Forslag til løsning:}\\
Udforsk værktøjerne

{\bfseries Diskussion:}\\
Pas på! Alt hvad du gør kan ødelægge information, start med det mest
\emph{flygitge} først - hvis det er en rigtig opgave

Der findes mange andre værktøjer - se på 
\link{http://www.ntsecurity.nu} og
\link{http://www.sysinternals.com}


\chapter{SSH login - Putty og UNIX SSHD}
\label{ex:SSHD-login}

{\bfseries Opgave:}\\
Log ind på UNIX serveren ved brug af Putty

{\bfseries Forslag til fremgangsmåde:}\\
Installer putty og få et login

{\bfseries Hjælp:}\\
Husk at putty skal have at vide at det er SSH protokollen og ikke
Telnet

Hvis der skal bruges nøgler kan putty godt drille lidt, husk
altid at trykke gem i profilvinduet - så informationerne om den
nøgle du skal bruges gemmes sammen med loginprofilen.

{\bfseries Forslag til løsning:}\\
Hvis man kender SSH i forvejen anbefales det at man ser på
nøglegenerering

{\bfseries Diskussion:}\\
SSH protokollen tillader både login og filoverførsel

Man BØR bruge SSH protokol version 2!

WinSCP er et godt værktøj til at kopiere filer frem og tilbage med

\chapter{TASK og autopsy installation}
\label{ex:task-autopsy}

{\bfseries Opgave:}\\
Installer TASK og autopsy

{\bfseries Forslag til fremgangsmåde:}\\
Log ind på UNIX serveren og kopier programmerne til dit eget katalog

{\bfseries Hjælp:}\\
Programmerne findes i TAR Gzip format - hvilket betyder at de skal
udpakkes med tar programmet

{\bfseries Forslag til løsning:}\\
Læs README og INSTALL dokumenterne der følger med programmerne - de
beskriver de følgende kommandoer der skal bruges.

Sleuthkit installation:
\begin{alltt}
{\bfseries cd} \emph{- denne kommando sikrer at du er i dit hjemmekatalog}
{\bfseries tar zxvf /sti/til/filen/sleuthkit-1.65.tar.gz} \emph{udpakning af filen}
{\bfseries cd sleuthkit-1.65} \emph{gå ned i kataloget}
{\bfseries make}  \emph{oversæt programmet}
\end{alltt}

Tilsvarende for Autopsy:
\begin{alltt}
{\bfseries tar zxvf /sti/til/filen/autopsy-1.74.tar.gz}
{\bfseries cd autopsy-1.74}
{\bfseries make}
\end{alltt}

Dernæst kommer der spørgsmål der skal besvares:
\begin{alltt}
   Autopsy Forensic Browser Installation

perl found: /usr/bin/perl5.6.0
strings found: /usr/bin/strings
  Testing decimal offset flag of strings: PASS
  Testing non-object file arguments: PASS
grep found: /usr/bin/grep

Enter The Sleuth Kit Directory:
{\bfseries /userdata/forensics/sleuthkit} /emph{installeret af Henrik}
  Sleuth Kit bin directory was found
  Required version found

Do you have the NIST National Software Reference Library (NSRL)? (y/n) [n]
{\bfseries n}   \emph{Vi vender tilbage til det senere}

Enter the Evidence Locker Directory (where cases will be saved):
{\bfseries /home/hlk/cases } \emph{I bestemmer selv hvor de skal ligge}

WARNING: /home/hlk/cases does not exist

Settings saved to conf.pl
$ {\bfseries mkdir ~/cases} \emph{lav kataloget til sagerne}
\end{alltt}

Derefter kan autopsy startes med kommandoen {\bfseries}:
\begin{alltt}
$ {\bfseries ./autopsy} 
============================================================================

                       Autopsy Forensic Browser 
                             ver 1.74 

============================================================================

Evidence Locker: /home/hlk/cases/
Start Time: Thu Oct  2 13:34:29 2003

Paste this as your browser URL on localhost:
        http://localhost:9999/10627410902533889806/autopsy

Keep this process running and use <ctrl-c> to exit
\end{alltt}

Derefter kan man med en browser tilgå Autopsy på den angivne adresse.

Image filer til øvelserne ligger på serveren i kataloget
\verb+/userdata/forensic/images+ - og skal linkes symbolsk - ellers får
vi hurtigt fyldt harddisken op.

{\bfseries Diskussion:}\\

Hvis man ser nærmere på autopsy ser man at den kan bruges fra en anden
maskine, eksempelvis med {\bfseries ./autopsy 1234 10.0.0.1} 
- men er dette sikkert?

Det afhænger at situationen og netværket!

NB: Husk ligeledes at autopsy godt kan være forvirret over hostnavne,
således at istedet for den http adresse som autopsy kan det være
nødvendigt at specificere IP-adresserne.

Eksempelvis udskiftning af: 
http://{\bfseries otto}:1234/5081753082516026672/autopsy\\
med http://{\bfseries 10.0.0.200}:1234/5081753082516026672/autopsy


\chapter{Honeynet group - FAT floppy - part 1}
\label{ex:honeynet-floppy1}

{\bfseries Opgave:}\\
The Honeynet Project \emph{Scan of the Month 24}
skal undersøges

{\bfseries Forslag til fremgangsmåde:}\\
Brug autopsy til at undersøge det pågældende image

{\bfseries Hjælp:}\\
Se Rapporten fra Brian Carrier - den viser hvilke filer der skal
findes.

{\bfseries Forslag til løsning:}\\
Start med at filføje image filen til din \emph{case} og lav en
tidslinie.

Brug derefter explorer interfacet til at lede efter de pågældende
filer.

{\bfseries Diskussion:}\\
Hvor lang tid brugte I?

Hvor lang tid ville det tage uden hjælpen?

\chapter{Honeynet group - FAT floppy - part 2}
\label{ex:honeynet-floppy2}

{\bfseries Opgave:}\\
The Honeynet Project \emph{Scan of the Month 26}
skal undersøges

{\bfseries Forslag til fremgangsmåde:}\\
Brug autopsy til at undersøge det pågældende image

{\bfseries Hjælp:}\\
Se Rapporten fra Brian Carrier - den viser hvilke filer der skal
findes.

{\bfseries Forslag til løsning:}\\
Start med at filføje image filen til din \emph{case} og lav en
tidslinie.

Brug derefter explorer interfacet til at lede efter de pågældende
filer.

{\bfseries Diskussion:}\\
Hvor lang tid brugte I?

Hvor lang tid ville det tage uden hjælpen?

\chapter{Honeynet group - recover rootkit}
\label{ex:honeynet-rootkit}

{\bfseries Opgave:}\\
The Honeynet Project \emph{Scan of the Month 15}
skal undersøges

{\bfseries Forslag til fremgangsmåde:}\\
Brug autopsy til at undersøge det pågældende image

{\bfseries Hjælp:}\\
Se Rapporten fra Brian Carrier - den viser hvilke filer der skal
findes.

{\bfseries Forslag til løsning:}\\
Start med at filføje image filen til din \emph{case} og lav en
tidslinie.

Brug derefter explorer interfacet til at lede efter de pågældende
filer.

{\bfseries Diskussion:}\\
Hvor lang tid brugte I?

Hvor lang tid ville det tage uden hjælpen?


\chapter{Opsamling af diskimage - eksterne diske}
\label{ex:usb-disk}

{\bfseries Opgave:}\\
Brug en ekstern disk til at opsamle et image fra en mistænkt computer
(der bruges USB disk på kurset)

{\bfseries Forslag til fremgangsmåde:}\\
Boot på forensics cd-rom eller andet medie som tillader read-only
adgang til harddisken der skal undersøges.

Isæt USB disken og kopier et image over til USB harddisken

{\bfseries Hjælp:}\\
Denne øvelse kræver at systemet der skal undersøges har USB og at der
findes en mulighed for at boote på eksternt medie.

{\bfseries Forslag til løsning:}\\
Brug dd kommandoen fra Linux/UNIX til at skrive en fil - hvis USB
disken er mountet på /mnt kan der opsamles et image af hele disken med
følgende kommando:
\begin{alltt}
dd if=/dev/hda of=/mnt/systemnavn-hda.dd
md5 /mnt/systemnavn-hda.dd
\end{alltt}

{\bfseries NB: på grund af tidpres kan vi ikke lave image af hele
  harddisken} - brug derfor følgende kommando til at tage de første
  100MB af harddisken:
\begin{alltt}
dd if=/dev/hda of=/mnt/systemnavn-hda.dd bs=1m count=100
md5 /mnt/systemnavn-hda.dd
\end{alltt}

{\bfseries Diskussion:}\\
Skal man kun opsamle systempartitionen eller hele harddisken?

USB er ok, men firewire er hurtigere endnu - hvis det er tilgængeligt

Hvordan skal USB-disken være formateret/opdelt? FAT32 er max. 32GB partitioner

Der findes USB kits som gør at man selv kan forbinden en eksisterende
IDE disk (3.5'' eller 2.5'') til USB



\chapter{Udpakning af partitioner fra diskimage}
\label{ex:mmls-partitions}

{\bfseries Opgave:}\\
Du står med en imagefil fra en harddisk - som er partitioneret

Du skal finde værktøjerne til at udpakke de enkelte partitioner til
separate filer der kan analyseres

{\bfseries Forslag til fremgangsmåde:}\\
Brug værktøjerne fra Sleuthkit til at læse partitionerne

{\bfseries Hjælp:}\\

Eksempler fra \link{http://www.sleuthkit.org}:

\begin{alltt}
Output of running 'mmls' on a DOS partition

% mmls -t dos disk.dd
DOS Partition Table
Units are in 512-byte sectors

     Slot    Start        End          Length       Description
00:  -----   0000000000   0000000000   0000000001   Primary Table (#0)
01:  -----   0000000001   0000000062   0000000062   Unallocated
02:  00:00   0000000063   0002056319   0002056257   Win95 FAT32 (0x0B)
03:  00:01   0002056320   0008209214   0006152895   OpenBSD (0xA6)
04:  00:02   0008209215   0019999727   0011790513   FreeBSD (0xA5)
\end{alltt}

\begin{alltt}
Output of running 'mmls' on an OpenBSD disk label, which is inside of a 
DOS partition (as shown in the DOS partition example).  

% mmls -t bsd -o 2056321 disk.dd
BSD Disk Label
Units are in 512-byte sectors

     Slot    Start        End          Length       Description
00:  02      0000000000   0019999727   0019999728   Unused (0x00)
01:  08      0000000063   0002056319   0002056257   MSDOS (0x08)
02:  00      0002056320   0002260943   0000204624   4.2BSD (0x07)
03:  01      0002260944   0002875823   0000614880   Swap (0x01)
04:  03      0002875824   0003080447   0000204624   4.2BSD (0x07)
05:  04      0003080448   0003233663   0000153216   4.2BSD (0x07)
06:  07      0003233664   0004257791   0001024128   4.2BSD (0x07)
07:  06      0004257792   0008209214   0003951423   4.2BSD (0x07)
08:  09      0008209215   0019984859   0011775645   Unknown (0x0A)
\end{alltt}

{\bfseries Forslag til løsning:}\\
Hvis I har lavet et dump af en harddisk kan I bruge dette, og
sammeligne fdisk uddata med mmls kommandoen

{\bfseries Diskussion:}\\
Er det nemt?

Det er fornuftigt at læse et enkelt image - hele disken - og så siden
analyse de dele som er interessante. Derved undgår man at glemme
partitioner som kan være interessante.

\chapter{Opsamling af diskimage - over netværk}
\label{ex:network-image}

{\bfseries Opgave:}\\
Brug en USB disk til at opsamle et image fra en mistænkt computer

{\bfseries Forslag til fremgangsmåde:}\\
Boot på forensics cd-rom eller andet medie som tillader read-only
adgang til harddisken der skal undersøges.

Isæt USB disken og kopier et image over til USB harddisken

{\bfseries Hjælp:}\\
Denne øvelse kræver at systemet der skal undersøges har USB og at der
findes en mulighed for at boote på eksternt medie.

{\bfseries Forslag til løsning:}\\
Brug dd og netcat (nc) kommandoerne fra Linux/UNIX til at sende image
over netværket

Hvis disken der skal undersøges er hda kan image sendes til serveren
med IP adressen 10.0.0.2 på port 1243 med følgende kommando:
\begin{alltt}
dd if=/dev/hda | nc 10.0.0.2 1234
\end{alltt}

{\bfseries Diskussion:}\\
Skal man kun opsamle systempartitionen eller hele harddisken?

Skal man lave et isoleret netværk? fordele og ulemper ved dette?

Hvad er fordelen ved cryptcat?

Er det en fordel at komprimere inden der sendes over netværket?\\
Hvor er flaskehalsen? - kan variere mellem disken/cpu/netværket!

Hvad er fordele og ulemper i forhold til USB/firewire disk?


\chapter{Design en forensics platform}
\label{ex:design-platform}

{\bfseries Opgave:}\\
Beskriv kravene til en forensics platform og tilhørende remedier

{\bfseries Forslag til fremgangsmåde:}\\
Tak udgangspunkt i det tilgængelige udstyr i undervisningslokalet

{\bfseries Hjælp:}\\
Der skal blandt andet vælges mellem laptops eller \emph{stationære}
computere.

{\bfseries Forslag til løsning:}\\
Securitypartner bruger en VIA maskine med standard IDE harddiske

{\bfseries Diskussion:}\\
Hvad er vigtigst - hastighed eller transportabel

Er prisen vigtig? Encase eller autopsy?

Vil du fjerne harddisken fra udstyr og koble direkte på din forensics
platform? 

\chapter{Fildatabaser: kendte programmer}
\label{ex:known-good}

{\bfseries Opgave:}\\
Find eksempler på databaser over kendte programmer

{\bfseries Forslag til fremgangsmåde:}\\
Autopsy kan gøre brug af NIST National Software Reference Library
(NSRL) - hvad er det?

{\bfseries Hjælp:}\\
En database med HASH værdier for kendte gode og kendte skadelige
programmer kan hurtigt identificere filer og dermed spare ressourcer

{\bfseries Forslag til løsning:}\\
Læs informationen om NIST

{\bfseries Diskussion:}\\
Koster det noget at bruge?

Kan man lave sine egne database?, hvordan?

Kan de bruges med alle værktøjer?
- hvordan løser man det?

I skal lære at være kreative - mindst ligeså kreative som dem der
forsøger at gemme data. Gennemgang af diskimages kan være yderst
ressourcekrævende - tænk bare på den tid det tager at lave et image!

\chapter{Honeynet group - forensic challenge}
\label{ex:honeynet-challenge}

{\bfseries Opgave:}\\
The Honeynet Project er skabt for at undersøge hvad der sker med
hackede systemer på Internet. Hvad bruges de til efterfølgende, og
hvordan hackes de?

\link{http://project.honeynet.org}

De har siden offentliggjort diskimages fra et hacket Red Hat Linux 6.2
system og lavet en konkurrence \emph{The Forensic Challenge} som blev
afholdt mellem 15. januar 19. februar i 2001.

{\bfseries Forslag til fremgangsmåde:}\\
NB: Denne opgave er stor men realistisk og vi kan ikke gennemgå denne
på kurset

{\bfseries Hjælp:}\\
Der findes et væld af analyser af systemet og af tidsforbruget til
denne opgave

{\bfseries Forslag til løsning:}\\
Hent images i pakket form - ca. 170MB - der udpakkes til omkring
3GB 

{\bfseries Diskussion:}\\
Forensic challenge er fra en honeypot der blev kompromitteret af en
angriber som brugte en halv time.
Det har taget de fleste hold der gennemførte og indsendte løsninger i
gennemsnit 50-60 timer pr person at gennemgå materialet!


\appendix 
\rhead{\fancyplain{}{\bfseries\leftmark}}
%\setlength{\parskip}{5pt}
%\normal

% der er ikke lavet ordliste til forensics workshop
%\chapter{Ordliste og forklaringer}
%\label{app:ordliste}
%\input{../ipv6-reference/wordlist.dk.tex}


%\chapter{Sikkerhed}

%Når man aktiverer \emne åbner man mange muligheder for angreb!

%Det vil ofte være muligt at skabe adgang til netværket for
%uvedkommende og det er derfor nødvendigt med løbende kontrol,
%overvågning og udskiftning af hemmeligheder som kodeord.

%IPsec er et krav til alle IPv6 implementationer, så man ved at man har
%muligheden for at kommunikere sikkert.

%Wireless teknologier og IPv6 er blot to emner der har indflydelse på
%sikkerheden i dagens netværk - men ofte kan det integreres fornuftigt
%med både virksomheden og de netværk som skal forbindes til
%infrastrukturen. 

%Det anbefales at læse bogen: \title{Firewalls and {Internet} Security:
%  Repelling the Wily Hacker}, \cite{Cheswick:2003:FIS}


\bibliographystyle{alpha}
%\bibliography{../ipv6-reference/security6-net.bib,../ipv6-reference/rfc.bib,../ipv6-reference/std.bib,../ipv6-reference/fyi.bib}
\bibliography{kramse.bib,rfc.bib,std.bib,fyi.bib}
%,internet.bib}


%\printindex

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
