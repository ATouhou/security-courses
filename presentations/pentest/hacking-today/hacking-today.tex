\documentclass[20pt,landscape,a4paper]{foils}

% HLK/ security6
%\usepackage{sec6slides}
\usepackage{solido-network-slides}
%\externaldocument{unix-audit-security-oevelser}
\externaldocument{\jobname-exercises}


% nyheder:
% http://portswigger.net/proxy/download.html Burp proxy kan ændre
% requests
% husk
% mindre tcpdump, mere "ævelse 1" "ævelse 2" osv.
% mine setups med John the ripper fra sylvester, evt kombineret med googlehacking?
% lidt cutenews?
% lidt mindre om dcom
% input fra Grey Hat Hacking bogen metasploit intro? kan mæske
% erstatte/udvide dcom som eksempel?

% Basic things that we need are below
\begin{document}
\selectlanguage{danish}

\mytitlepage
{Hacking today}


\slide{Formålet med foredraget}

\vskip 2 cm

%{\hlkbig En 3 dages workshop, hvor du lærer at angribe dit netværk!}

\hlkimage{5cm}{dont-panic.png}
\centerline{\color{titlecolor}\LARGE Don't Panic!}

\begin{list1}
\item Skabe forståelse for hackerværktøjer
  samt penetrationstest metoder
\end{list1}


\slide{Hacker - cracker}

{\bfseries Det korte svar - drop diskussionen}

%Det lidt længere svar:\\
Det havde oprindeligt en anden betydning, men medierne har taget
udtrykket til sig - og idag har det begge betydninger.

{\color{red}\hlkbig Idag er en hacker stadig en der bryder ind i systemer!}

ref. Spafford, Cheswick, Garfinkel, Stoll, ...
- alle kendte navne indenfor sikkerhed

Hvis man vil vide mere kan man starte med:
\begin{list2}
\item \emph{Cuckoo's Egg: Tracking a Spy Through the Maze of Computer
 Espionage},  Clifford Stoll
\item \emph{Hackers: Heroes of the Computer Revolution},
Steven Levy
\item \emph{Practical Unix and Internet Security},
Simson Garfinkel, Gene Spafford, Alan Schwartz
\end{list2}



\slide{Hacking er magi}

\hlkimage{7cm}{wizard_in_blue_hat.png}

\vskip 1 cm

\centerline{Hacking ligner indimellem  magi}


\slide{Hacking er ikke magi}

\hlkimage{17cm}{ninjas.png}

\vskip 1 cm
\centerline{Hacking kræver blot lidt ninja-træning}

\slide{Movie:Kryptonite lock - old}

\hlkimage{16cm}{youtube-bic-lock.png}

\begin{list1}
\item Just search for: kryptonite lock bic pen
\item \link{https://www.youtube.com/watch?v=LahDQ2ZQ3e0}
\end{list1}



\slide{Hacking eksempel - det er ikke magi}

\begin{list1}
\item MAC filtrering på trådløse netværk
\item Alle netkort har en MAC adresse - BRÆNDT ind i kortet fra fabrikken
\item Mange trådløse Access Points kan filtrere MAC adresser
\item Kun kort som er på listen over godkendte adresser tillades adgang til netværket
\pause
\item Det virker dog ikke \smiley
\item De fleste netkort tillader at man overskriver denne adresse midlertidigt
\item Derudover har der ofte været fejl i implementeringen af MAC filtrering
\end{list1}

\slide{Myten om MAC filtrering}

\begin{list1}
\item Eksemplet med MAC filtrering er en af de mange myter
\item Hvorfor sker det?
\item Marketing - producenterne sætter store mærkater på æskerne
\item Manglende indsigt - forbrugerne kender reelt ikke koncepterne
\item Hvad \emph{er} en MAC adresse egentlig
\item Relativt få har forudsætningerne for at gennemskue dårlig sikkerhed
\item Løsninger?
\pause
\item Udbrede viden om usikre metoder til at sikre data og computere
\item Udbrede viden om sikre metoder til at sikre data og computere
\end{list1}

\slide{MAC filtrering}

\hlkimage{15cm}{stupid-security.jpg}




\slide{Attack overview}

\hlkimage{19cm}{sicherheitstacho.png}

{\small\link{http://www.sicherheitstacho.eu/?lang=en}}




\slide{Heartbleed CVE-2014-0160}

\hlkimage{22cm}{heartbleed-com.png}

Source: \link{http://heartbleed.com/}


\slide{Heartbleed hacking}

\begin{alltt}\footnotesize
  06b0: 2D 63 61 63 68 65 0D 0A 43 61 63 68 65 2D 43 6F  -cache..Cache-Co
  06c0: 6E 74 72 6F 6C 3A 20 6E 6F 2D 63 61 63 68 65 0D  ntrol: no-cache.
  06d0: 0A 0D 0A 61 63 74 69 6F 6E 3D 67 63 5F 69 6E 73  ...action=gc_ins
  06e0: 65 72 74 5F 6F 72 64 65 72 26 62 69 6C 6C 6E 6F  ert_order&billno
  06f0: 3D 50 5A 4B 31 31 30 31 26 70 61 79 6D 65 6E 74  =PZK1101&payment
  0700: 5F 69 64 3D 31 26 63 61 72 64 5F 6E 75 6D 62 65  _id=1&{\bf card_numbe}
  0710: XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX XX  {\bf r=4060xxxx413xxx}
  0720: 39 36 26 63 61 72 64 5F 65 78 70 5F 6D 6F 6E 74  {\bf 96&card_exp_mont}
  0730: 68 3D 30 32 26 63 61 72 64 5F 65 78 70 5F 79 65  {\bf h=02&card_exp_ye}
  0740: 61 72 3D 31 37 26 63 61 72 64 5F 63 76 6E 3D 31  {\bf ar=17&card_cvn=1}
  0750: 30 39 F8 6C 1B E5 72 CA 61 4D 06 4E B3 54 BC DA  {\bf 09}.l..r.aM.N.T..
\end{alltt}

\begin{list2}
\item Obtained using Heartbleed proof of concepts - Gave full credit card details
\item "can XXX be exploited" - yes, clearly! PoCs ARE needed\\
without PoCs even Akamai wouldn't have repaired completely!
\item The internet was ALMOST fooled into thinking getting private keys from Heartbleed was not possible - scary indeed.
\end{list2}


\slide{Most vulnerable operating systems in 2014}

\hlkimage{18cm}{GFI-vulns-2014-OS-chart.jpg}

\begin{quote}
An average of 19 vulnerabilities per day were reported in 2014, according to the data from the National Vulnerability Database (NVD).
\end{quote}

Source:\\
{\footnotesize
\link{http://www.gfi.com/blog/most-vulnerable-operating-systems-and-applications-in-2014/}}


\slide{Most vulnerable applications in 2014}

\hlkimage{16cm}{gfi-vulns-application-chart.jpg}

\begin{quote}\small
Not surprisingly at all, web browsers continue to have the most security vulnerabilities because they are a popular gateway to access a server and to spread malware on the clients.
\end{quote}

Source:\\
{\footnotesize
\link{http://www.gfi.com/blog/most-vulnerable-operating-systems-and-applications-in-2014/}}



\slide{Hackerværktøjer}
% mæske til reference afsnit?

\begin{list1}
\item Der benyttes en del værktøjer:
\begin{list2}
\item Nmap - \link{http://www.insecure.org} portscanner
\item Wireshark - \link{http://http://www.wireshark.org/} avanceret netværkssniffer
\item OpenBSD - \link{http://www.openbsd.org} operativsystem med fokus
  på sikkerhed
\item Kali Linux \link{http://www.kali.org/}
\end{list2}

\end{list1}


\slide{Internet idag}

\hlkimage{14cm}{images/server-client.pdf}

\begin{list1}
\item Klienter og servere
\item Rødder i akademiske miljøer
\item Protokoller der er op til 20 år gamle
\item Meget lidt kryptering, mest på http til brug ved e-handel
\end{list1}

\slide{Internet er åbne standarder!}

{\hlkbig
We reject kings, presidents, and voting.\\
We believe in rough consensus and running code.\\
-- The IETF credo Dave Clark, 1992.}

\begin{list1}
\item Request for comments - RFC - er en serie af dokumenter
\item RFC, BCP, FYI, informational\\
de færste stammer tilbage fra 1969
\item ændres ikke, men får status Obsoleted når der udkommer en nyere
  version af en standard
\item Standards track:\\
Proposed Standard $\rightarrow$ Draft Standard $\rightarrow$ Standard
\item  åbne standarder = åbenhed, ikke garanti for sikkerhed
\end{list1}


\slide{OSI og Internet modellerne}

\hlkimage{14cm,angle=90}{images/compare-osi-ip.pdf}


\slide{Wireshark - grafisk pakkesniffer}

\hlkimage{20cm}{images/wireshark-website.png}

\centerline{\link{http://www.wireshark.org}}
\centerline{både til Windows og UNIX}

\slide{Wireshark usage}
\hlkimage{18cm}{wireshark-http.png}

Wireshark: Filters, hexdump, protocol dissection, overview, coloring, advanced features

\demo{Wireshark}


\slide{Network mapping}

\hlkimage{23cm}{images/network-example.pdf}

\begin{list1}
\item Ved brug af traceroute og tilsvarende programmer kan man ofte
  udlede topologien i det netværk man undersæger
\end{list1}


\slide{Portscan med Zenmap GUI}

\hlkimage{16cm}{nmap-zenmap.png}



\demo{Armitage og Metasploit}


\slide{FREAK March 2015}


\begin{quote}
"A group of cryptographers at INRIA, Microsoft Research and IMDEA have discovered some serious vulnerabilities in OpenSSL (e.g., Android) clients and Apple TLS/SSL clients (e.g., Safari) that allow a 'man in the middle attacker' to downgrade connections from 'strong' RSA to 'export-grade' RSA. These attacks are real and exploitable against a shocking number of websites -- including government websites. Patch soon and be careful."
\end{quote}

Source: Matthew Green, cryptographer and research professor at Johns Hopkins Univ\\
{\tiny\link{http://blog.cryptographyengineering.com/2015/03/attack-of-week-freak-or-factoring-nsa.html}
\link{https://www.smacktls.com/} \link{https://freakattack.com/}
}


OpenSSL, LibreSSL, Apple SSL flaw exit exit exit!, Android SSL, certs certs!!!111, SSLv3, Heartbleed, MS TLS

%\vskip 1cm
%\centerline{F this I'm going out drinking beer *drops mic*}



\vskip 1cm
PS From now on its TLS! Not SSL anymore, any SSLv2, SSLv3 is old and vulnerable


\slide{Bettercrypto.org pretty good advise}

SSL settings for nginx
\hlkimage{15cm}{bettercrypto-nginx.png}

Overview
\begin{quote}
"This whitepaper arose out of the need for system administrators to have an updated,
solid, well researched and thought-through guide for configuring SSL, PGP, SSH and
other cryptographic tools in the post-Snowden age. ... This guide is specifically
written for these system administrators."
\end{quote}

\link{https://bettercrypto.org/}

\slide{Overview of malware bypass today}

Quote:
The primary malware installation, sometimes referred as an infection, can be achieved using several attack vectors.
The goal is always to run malicious code. Some of the most common attack vectors are:

\begin{list2}
\item 1. Browser-based social engineering: where a user is tricked into clicking on a legitimate-looking URL which in turn triggers code execution using browser or browser-plugin vulnerabilities in Java and Flash. More advanced attacks can hide in legitimate traffic without requiring any user-interaction. These are commonly referred to as drive-by downloads.
\item 2. Email-based social engineering and spear phishing: where a user receives an email that contains a hidden or visible binary, which executes when the user clicks on it.
\item 3. Credential theft: when guessed or stolen credentials are used to access a remote machine and execute (malicious) code, such as installing a backdoor.
\end{list2}

{\small Source: Great summary article by Alon Nafta, senior security engineer at SentinelOne\\
How Malware Bypasses Our Most Advanced Security Measures, february 2015}\\
{\tiny\link{http://www.darkreading.com/perimeter/how-malware-bypasses-our-most-advanced-security-measures/a/d-id/1318974?_mc=RSS_DR_EDT}}



\slide{Overview of malware bypass today, continued}

Evasion techniques
To evade detection, during and after installation, malware uses five primary techniques.
\begin{list1}
\item 1. Wrapping. This process attaches the malicious payload (the installer or the malware itself) to a legitimate file.
... IceFog is a well-known malware commonly wrapped with a legitimate-looking CleanMyMac application and used to target OS X users. On the Windows platform, OnionDuke has been used with legitimate Adobe installers shared over Tor networks to infect machines.
\item 2. Obfuscation. This involves modifying high level or binary code it in a way that does not affect its functionality, but completely changes its binary signature. ... Malware authors have adopted the technique to bypass antivirus engines and impair manual security research. ...
\end{list1}

Source: How Malware Bypasses Our Most Advanced Security Measures\\
{\tiny\link{http://www.darkreading.com/perimeter/how-malware-bypasses-our-most-advanced-security-measures/a/d-id/1318974?_mc=RSS_DR_EDT}}

\slide{Overview of malware bypass today, continued}

\begin{list1}
\item 3. Packers. These software tools are used to compress and encode binary files, which is another form of obfuscation.... These techniques are extremely effective at circumventing static signature engines.
\item 4. Anti-debugging. Like obfuscation, anti-bugging was originally created by software developers to protect commercial code from reverse-engineering. Anti-debugging can prevent a binary from being analyzed in an emulated environments such as virtual machines, security sandbox, and others. ...
\item 5.  Targeting. This technique is implemented when malware is designed to attack a specific type of system (e.g. Windows XP SP 3), application (e.g. Internet Explorer 10) and/or configuration (e.g. detecting a machine not running VMWare tools, which is often a telltale sign for usage of virtualization). ...
\end{list1}

Source: How Malware Bypasses Our Most Advanced Security Measures\\
{\tiny\link{http://www.darkreading.com/perimeter/how-malware-bypasses-our-most-advanced-security-measures/a/d-id/1318974?_mc=RSS_DR_EDT}}


% Suricata, Logstash, Elasticsearch, D3JShttp://d3js.org/
\slide{Kibana 4 february 2015}

\hlkimage{14cm}{kibanascreenshothomepagebannerbigger.jpg}

\centerline{Highly recommended for a lot of data visualisation}

Source:
\link{https://www.elastic.co/products/kibana}

\slide{Focus for the near future}

\begin{list2}
\item Walk through your infrastructure\\
get a detailed view of data, flows, protocols, bandwidth, ports and services

\item Create a list of critical phone numbers and contacts, enter it in your phone
\item Automate updates for both clients and servers, goal update everything in hours
\item Learn to run Nmap and Metasploit scripts - identify vulnerable servers
\end{list2}

\vskip 2cm
\centerline{consider the fact we have multiple overlapping critical security incidents now!}

\vskip 2cm
How many incidents can your organisation handle in parallel?


\myquestionspage

\end{document}
